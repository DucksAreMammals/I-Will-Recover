[gd_resource type="Shader" format=2]

[resource]
code = "shader_type particles;

float rand(vec2 co){
    return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);
}

void vertex() {
	if (RESTART) {
		TRANSFORM[3].x = rand(vec2(TIME * 4.3, float(NUMBER))) * 100.0 - 50.0;
		TRANSFORM[3].y = rand(vec2(TIME * 7.0, float(NUMBER))) * 100.0 - 50.0;
		
		VELOCITY.x = -TRANSFORM[3].x;
		VELOCITY.y = -TRANSFORM[3].y;
	}
}"
